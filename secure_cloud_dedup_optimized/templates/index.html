{% extends "base.html" %}

{% block title %}Home - Secure Cloud Deduplication{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12">
        <div class="jumbotron bg-light p-5 rounded">
            <h1 class="display-4"><i class="fas fa-shield-alt"></i> Secure Cloud Deduplication System</h1>
            <p class="lead">Advanced ML-assisted deduplication with optimized encryption and cloud storage integration
            </p>
            <hr class="my-4">

            {% if current_user.is_authenticated %}
            <p>Welcome back, <strong>{{ current_user.username }}</strong>!</p>

            <!-- User Stats -->
            <div class="row mt-4">
                <div class="col-md-3">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5 class="card-title">{{ user_stats.total_files }}</h5>
                            <p class="card-text">Total Files</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5 class="card-title">{{ "%.2f"|format(user_stats.total_storage_mb) }} MB</h5>
                            <p class="card-text">Storage Used</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5 class="card-title">{{ user_stats.uploaded_files }}</h5>
                            <p class="card-text">Uploaded</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5 class="card-title">{{ user_stats.shared_files }}</h5>
                            <p class="card-text">Shared</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <a class="btn btn-primary btn-lg" href="{{ url_for('upload') }}" role="button">
                    <i class="fas fa-upload"></i> Upload File
                </a>
                <a class="btn btn-secondary btn-lg" href="{{ url_for('dashboard') }}" role="button">
                    <i class="fas fa-chart-line"></i> View Dashboard
                </a>
            </div>
            {% else %}
            <p>Secure file storage with intelligent deduplication, encryption, and cloud integration.</p>
            <a class="btn btn-primary btn-lg" href="{{ url_for('register') }}" role="button">Get Started</a>
            <a class="btn btn-outline-primary btn-lg" href="{{ url_for('login') }}" role="button">Login</a>
            {% endif %}
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="row mt-5">
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-copy fa-3x text-primary mb-3"></i>
                <h5 class="card-title">Smart Deduplication</h5>
                <p class="card-text">Automatically detects and eliminates duplicate files, saving storage space.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-lock fa-3x text-success mb-3"></i>
                <h5 class="card-title">Secure Encryption</h5>
                <p class="card-text">Convergent encryption ensures data security while enabling deduplication.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-cloud-upload-alt fa-3x text-info mb-3"></i>
                <h5 class="card-title">Cloud Integration</h5>
                <p class="card-text">Seamless AWS S3 integration with local caching for optimal performance.</p>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-tachometer-alt fa-3x text-warning mb-3"></i>
                <h5 class="card-title">Optimized Performance</h5>
                <p class="card-text">Parallel encryption processing for 2-3x faster file handling.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-chart-bar fa-3x text-danger mb-3"></i>
                <h5 class="card-title">Real-time Analytics</h5>
                <p class="card-text">Comprehensive dashboard with performance metrics and statistics.</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-shield-virus fa-3x text-secondary mb-3"></i>
                <h5 class="card-title">Proof of Ownership</h5>
                <p class="card-text">Adaptive PoW verification prevents unauthorized access to deduplicated files.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}